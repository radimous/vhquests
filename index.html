<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>
			*{
				font-family: sans-serif;
			}
			body{
				max-width: 800px;
				margin: 0 auto;
				display: flex;
				flex-direction: column; 
			}
			.quest-title {
				margin-bottom: 0.4em;
			}
		</style>
	<title>VH QUESTS</title>
</head>
<body>
	<div id="content"></div>
	<script>
		function scrollToHash() {
			var hash = window.location.hash;
			if (hash) {
				var id = hash.substring(1);
				var element = document.getElementById(id);
				if (element) {
					element.scrollIntoView();
				}
			}
		}
		
		async function getQuests() {
			var hell = await fetch('./quests.json')
			var questData = await hell.json()
			contentDiv = document.getElementById('content')
			for (var k in questData.quests) { 
				questDiv = document.createElement('div')
				questDiv.classList.add("quest")
				nameH2 = document.createElement('h2')
				nameH2.id = questData.quests[k].name.toLowerCase().replaceAll(" ", "_")
				nameH2.classList.add("quest-title")
				nameH2.innerHTML = questData.quests[k].name
				questDiv.appendChild(nameH2)
				contentDiv.appendChild(questDiv)
				var quest = questData.quests[k]
				descString = ''
				for (var j in quest.descriptionData.description) {
					var descriptionPart = quest.descriptionData.description[j]
					descString += descriptionPart.text
				}
				var descriptionDiv = document.createElement('div')
				descriptionDiv.classList.add("quest-description")
				descString = descString.replace(/\n/g, "<br>")
				descriptionDiv.innerHTML = descString
				questDiv.appendChild(descriptionDiv)
			}
		}

		getQuests()
		scrollToHash()

	</script>
</body>
</html>
